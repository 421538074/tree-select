{"version":3,"sources":["webpack:///./examples/enhance.js","webpack:///./assets/demo.less","webpack:///./examples/util.js"],"names":[],"mappings":"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","file":"enhance.js","sourcesContent":["// use jsx to render html, do not modify simple.html\n\nimport 'rc-tree-select/assets/index.less';\nimport 'rc-tree-select/assets/demo.less';\nimport React, {PropTypes} from 'react';\nimport ReactDOM from 'react-dom';\nimport TreeSelect, { TreeNode } from 'rc-tree-select';\nimport { gData, getFilterValue } from './util';\n\nfunction getNode(arr, val) {\n  let node;\n  return arr.some(item => {\n    if (item.key === val) {\n      node = item.node;\n      return true;\n    }\n  }) && node;\n}\n\nconst Demo = React.createClass({\n  propTypes: {\n    multiple: PropTypes.bool,\n    treeCheckable: PropTypes.bool,\n  },\n  getDefaultProps() {\n    return {\n      multiple: true,\n      treeCheckable: false,\n    };\n  },\n  getInitialState() {\n    return {\n      value: [],\n    };\n  },\n  onSelect(selectedValue, info) {\n    console.log('onSelect: ', selectedValue, info);\n    let newVal = [...this.state.value];\n\n    if (info.event === 'select') {\n      newVal = this.getSelectVal(newVal, info);\n      this.event = 'select';\n    } else if (info.event === 'check') {\n      newVal = this.getCheckVal(newVal, info);\n    }\n    this.setState({\n      value: newVal,\n    });\n  },\n  onChange(value, label, preStateValue) {\n    console.log('onChange ', value, label, this.state.value, preStateValue);\n    if (this.event === 'select') {\n      this.setState({\n        value,\n      });\n      return;\n    }\n    const val = [...value];\n    const sVal = preStateValue;\n    const delVal = [...sVal];\n    if (!val.every(item => {\n      if (sVal.indexOf(item) > -1) {\n        delVal.splice(delVal.indexOf(item), 1);\n        return true;\n      }\n    })) {\n      console.error('受控组件，改变（只允许删除）后的 value 需要是 state.value 的子集');\n    }\n    this.setState({\n      value: getFilterValue(val, sVal, delVal),\n    });\n  },\n  getSelectVal(val, info) {\n    let newVal = val;\n    let index = info.selectedKeys.indexOf(info.node.props.eventKey);\n    if (index > -1) {\n      index = newVal.indexOf(info.node.props.value);\n      if (index > -1) {\n        newVal.splice(index, 1);\n      }\n    } else if (index === -1) {\n      if (this.props.multiple) {\n        newVal.push(info.node.props.value);\n      } else {\n        newVal = [info.node.props.value];\n      }\n    }\n    return newVal;\n  },\n  getCheckVal(val, info) {\n    let newVal = val;\n    newVal = [];\n    info.filterAllCheckedKeys.forEach((item) => {\n      const node = getNode(info.allCheckedNodesKeys, item);\n      if (node) {\n        newVal.push(node.props.value);\n      } else if (info.node.props.eventKey === item) {\n        newVal.push(info.node.props.value);\n      }\n    });\n    return newVal;\n  },\n  render() {\n    const tProps = {\n      value: this.state.value,\n      onChange: this.onChange,\n      onSelect: this.onSelect,\n      multiple: this.props.multiple,\n      treeCheckable: this.props.treeCheckable,\n      treeDefaultExpandAll: true,\n    };\n    const loop = data => {\n      return data.map((item) => {\n        if (item.children) {\n          return <TreeNode key={item.key} value={item.value} title={item.key + ' label'}>{loop(item.children)}</TreeNode>;\n        }\n        return <TreeNode key={item.key} value={item.value} title={item.key + ' label'} />;\n      });\n    };\n    return (<div style={{padding: '10px 30px'}}>\n      <h3>more</h3>\n      <TreeSelect style={{width: 300}} {...tProps}>\n        {loop(gData)}\n      </TreeSelect>\n    </div>);\n  },\n});\n\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/enhance.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/demo.less\n ** module id = 219\n ** module chunks = 1 3\n **/","\nconst x = 3;\nconst y = 2;\nconst z = 1;\nconst gData = [];\n\nconst generateData = (_level, _preKey, _tns) => {\n  const preKey = _preKey || '0';\n  const tns = _tns || gData;\n\n  const children = [];\n  for (let i = 0; i < x; i++) {\n    const key = `${preKey}-${i}`;\n    tns.push({title: key, key: key, value: key});\n    if (i < y) {\n      children.push(key);\n    }\n  }\n  if (_level < 0) {\n    return tns;\n  }\n  const __level = _level - 1;\n  children.forEach((key, index) => {\n    tns[index].children = [];\n    return generateData(__level, key, tns[index].children);\n  });\n};\ngenerateData(z);\n\n\nfunction loopData(data, callback) {\n  const loop = (d, level = 0) => {\n    d.forEach((item, index) => {\n      const pos = `${level}-${index}`;\n      if (item.children) {\n        loop(item.children, pos);\n      }\n      callback(item, index, pos);\n    });\n  };\n  loop(data);\n}\n\nfunction isInclude(smallArray, bigArray) {\n  return smallArray.every((ii, i) => {\n    return ii === bigArray[i];\n  });\n}\n// console.log(isInclude(['0', '1'], ['0', '10', '1']));\n\nfunction getFilterValue(val, sVal, delVal) {\n  const allPos = [];\n  const delPos = [];\n  loopData(gData, (item, index, pos) => {\n    if (sVal.indexOf(item.value) > -1) {\n      allPos.push(pos);\n    }\n    if (delVal.indexOf(item.value) > -1) {\n      delPos.push(pos);\n    }\n  });\n  const newPos = [];\n  delPos.forEach((item) => {\n    const nArr = item.split('-');\n    allPos.forEach((i) => {\n      const iArr = i.split('-');\n      if (item === i ||\n        nArr.length > iArr.length && isInclude(iArr, nArr) ||\n        nArr.length < iArr.length && isInclude(nArr, iArr)) {\n        // 过滤掉 父级节点 和 所有子节点。\n        // 因为 node节点 不选时，其 父级节点 和 所有子节点 都不选。\n        return;\n      }\n      newPos.push(i);\n    });\n  });\n  const newVal = [];\n  if (newPos.length) {\n    loopData(gData, (item, index, pos) => {\n      if (newPos.indexOf(pos) > -1) {\n        newVal.push(item.value);\n      }\n    });\n  }\n  return newVal;\n}\n\nexport { gData, getFilterValue };\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/util.js\n **/"],"sourceRoot":""}